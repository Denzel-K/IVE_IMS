<script src="https://cdn.tailwindcss.com"></script>

<section class="skeleton">
  {{>sidebar}}

  <section class="parent_container">
    {{>dynamic_head}}

    <div class="dynamic_body">
      {{!-- Your sections and divs go here --}}
      <div class="dashboard">
        <div class="welcome-message">
          <h1>Welcome, {{credentials.name}}!</h1>
          <p>You are logged in as a <strong>{{credentials.role}}</strong> in the <strong>{{credentials.lab}}</strong> lab.</p>
        </div>

        {{#if (eq credentials.role "admin")}}
          <!-- Admin Dashboard -->
          <div class="admin-dashboard">
            <h2>Admin Dashboard</h2>
            <div class="widgets">
              <div class="widget">
                <h3>Total Users</h3>
                <p>{{data.totalUsers}}</p>
              </div>
              <div class="widget">
                <h3>Active Projects</h3>
                <p>{{data.activeProjects}}</p>
              </div>
              <div class="widget">
                <h3>Equipment in Use</h3>
                <p>{{data.equipmentInUse}}</p>
              </div>
            </div>
          </div>
        {{else if (eq credentials.role "lab_manager")}}
          <!-- Lab Manager Dashboard -->
          <div class="lab-manager-dashboard">
            <h2>{{data.labName}} Lab Manager Dashboard</h2>
            <div class="widgets">
              <div class="widget">
                <h3>Pending Approvals</h3>
                <p>{{data.pendingApprovals}}</p>
              </div>
              <div class="widget">
                <h3>Equipment Due for Maintenance</h3>
                <p>{{data.equipmentDueForMaintenance}}</p>
              </div>
            </div>
          </div>
        {{else if (eq credentials.role "technician")}}
          <!-- Technician Dashboard -->
          <div class="technician-dashboard">
            <!-- Search Bar -->
            <div class="mb-6">
                <input type="text" placeholder="Search equipment or tasks..." class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            </div>
            <div class="widgets">
              <div class="widget">
                <h3>Equipment in Use</h3>
                <p>{{data.equipmentInUse}}</p>
              </div>
              <div class="widget">
                <h3>Maintenance Tasks</h3>
                <p>{{data.maintenanceTasks}}</p>
              </div>
            </div>
                <section class="p-2">
                  <!-- Widgets -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <!-- Upcoming Maintenance Alerts -->
                      <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                          <h3 class="text-lg font-semibold mb-4 text-indigo-800 flex items-center gap-2">
                              <i class="fas fa-exclamation-circle text-red-500"></i>
                              Upcoming Maintenance
                          </h3>
                          <ul id="maintenance-alerts" class="space-y-2">
                              <!-- Populated by JavaScript -->
                          </ul>
                      </div>

                      <!-- Current Bookings -->
                      <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                          <h3 class="text-lg font-semibold mb-4 text-indigo-800 flex items-center gap-2">
                              <i class="fas fa-calendar-check text-green-500"></i>
                              Current Bookings
                          </h3>
                          <ul id="current-bookings" class="space-y-2">
                              <!-- Populated by JavaScript -->
                          </ul>
                      </div>

                      <!-- Pending Maintenance Requests -->
                      <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                          <h3 class="text-lg font-semibold mb-4 text-indigo-800 flex items-center gap-2">
                              <i class="fas fa-tools text-yellow-500"></i>
                              Pending Maintenance
                          </h3>
                          <ul id="pending-maintenance" class="space-y-2">
                              <!-- Populated by JavaScript -->
                          </ul>
                      </div>

                      <!-- Recent Activity Logs -->
                      <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                          <h3 class="text-lg font-semibold mb-4 text-indigo-800 flex items-center gap-2">
                              <i class="fas fa-history text-blue-500"></i>
                              Recent Activity
                          </h3>
                          <ul id="recent-activity" class="space-y-2">
                              <!-- Populated by JavaScript -->
                          </ul>
                      </div>
                  </div>
              </section>

          </div>
        {{else if (eq credentials.role "student")}}
          <!-- Student Dashboard -->
          <div class="student-dashboard">
            <h2>{{data.labName}} Student Dashboard</h2>
            <div class="widgets">
              <div class="widget">
                <h3>Active Projects</h3>
                <p>{{data.activeProjects}}</p>
              </div>
              <div class="widget">
                <h3>Upcoming Bookings</h3>
                <p>{{data.upcomingBookings}}</p>
              </div>
            </div>
          </div>
        {{/if}}
      </div>
    </div>
  </section>
</section>

<script src="js/shared.js"></script>
<script src="js/tech_dash.js"></script>